# Python CAD Framework (Build123d Based)

Современная модульная CAD-система на базе библиотеки `build123d`, использующая принципы функционального моделирования и иерархических сборок.

## Архитектура проекта

Проект разделен на логические уровни для обеспечения масштабируемости и чистоты кода:

### 1. Детали (`parts/`)
Атомарные компоненты системы. Каждая деталь — это функция, которая:
- Принимает геометрические параметры.
- Возвращает объект `Part`.
- Объявляет свои "интерфейсы подключения" через **Joints**.

### 2. Сборки (`assemblies/`)
Управляют композицией деталей через иерархию (механизм `anytree` в `build123d`).
- Соединяют детали через метод `connect_to`.
- Выстраивают дерево зависимостей.

### 3. Системные модули (`src/`)
- **`renderer.py`**: Визуализация через PyVista (PBR материалы, освещение, края).
- **`ui.py`**: Интерфейс на PySide6 с динамической генерацией параметров.

---

## Текущий проект: Tablet Holder "The Cradle"
Параметрическое крепление для планшета с солнцезащитным козырьком.

### Возможности:
- **VESA 100**: Поддержка стандартных кронштейнов.
- **Параметризация**: Ширина, высота, толщина планшета и параметры козырька настраиваются в реальном времени.
- **Оптимизация под печать**: Сборка из двух половин для исключения поддержек.

## Установка и запуск

1. **Окружение**:
   ```bash
   ./venv/bin/pip install build123d pyvista pyvistaqt PySide6 vtk
   ```

2. **Запуск**:
   ```bash
   ./venv/bin/python3 main.py
   ```

## Механизм соединений
В деталях определяются точки интереса:
```python
RigidJoint("mount", part_obj, face.location)
```
В сборке детали стыкуются:
```python
child_part.joints["mount"].connect_to(parent_part.joints["socket"])
```
